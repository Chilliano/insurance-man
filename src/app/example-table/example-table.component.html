<div class="container--filters">
  <div class="title">Filter Results By...</div>
  <div class="fields">
    <mat-form-field appearance="outline" class="filter" floatLabel="never">
      <mat-label>Name</mat-label>
      <input
        (keyup)="applyFilter($event.target.value)"
        matInput
        [formControl]="nameFilter"
      />
    </mat-form-field>
    <mat-form-field appearance="outline" class="filter" floatLabel="never">
      <mat-label>Brand</mat-label>
      <input
        (keyup)="applyFilter($event.target.value)"
        matInput
        [formControl]="brandFilter"
      />
    </mat-form-field>
    <mat-form-field appearance="outline" class="filter" floatLabel="never">
      <mat-label>Kind</mat-label>
      <input
        (keyup)="applyFilter($event.target.value)"
        matInput
        [formControl]="kindFilter"
      />
    </mat-form-field>
    <mat-form-field
      *ngIf="productsViews !== 'favourites'"
      appearance="outline"
      class="filter"
      floatLabel="never"
    >
      <mat-label>Price</mat-label>
      <input
        (keyup)="applyFilter($event.target.value)"
        matInput
        [formControl]="priceFilter"
      />
    </mat-form-field>
  </div>
  <button class="btn btn-dark" (click)="onSaveSelected()">Save Selected</button>
  <button class="btn btn-dark" (click)="onRemoveSelected()">
    Remove Selected
  </button>
  <button class="btn btn-dark" (click)="onDisplayFavourites()">
    Display Favourites
  </button>
</div>

<mat-card class="container">
  <mat-card-content fxFlex class="content" fxLayout="column">
    <div class="mat-elevation-z8">
      <table mat-table class="full-width-table " matSort aria-label="Elements">
        <ng-container matColumnDef="select">
          <th class="header header--select" mat-header-cell *matHeaderCellDef>
            <mat-checkbox
              (change)="$event ? masterToggle() : null"
              [checked]="selection.hasValue() && isAllSelected()"
              [indeterminate]="selection.hasValue() && !isAllSelected()"
            >
            </mat-checkbox>
          </th>
          <td mat-header-cell mat-cell *matCellDef="let row">
            <mat-checkbox
              (click)="$event.stopPropagation()"
              (change)="$event ? selection.toggle(row) : null"
              [checked]="selection.isSelected(row)"
            >
            </mat-checkbox>
          </td>
        </ng-container>
        <ng-container matColumnDef="image">
          <th
            class="header header--image"
            mat-header-cell
            *matHeaderCellDef
          ></th>
          <td mat-cell *matCellDef="let product">
            <img class="brand-image" [src]="retrieveImage(product)" alt="" />
          </td>
        </ng-container>
        <ng-container matColumnDef="name">
          <th
            class="header header--name"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            Name
          </th>
          <td mat-cell *matCellDef="let product">{{ product.name }}</td>
        </ng-container>
        <ng-container matColumnDef="brand">
          <th
            class="header header--company"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            Company
          </th>
          <td mat-cell *matCellDef="let product">{{ product.brand }}</td>
        </ng-container>
        <ng-container matColumnDef="kind">
          <th
            class="header header--kind"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            Kind
          </th>
          <td mat-cell *matCellDef="let product">{{ product.kind }}</td>
        </ng-container>
        <ng-container matColumnDef="price">
          <th
            class="header header--price"
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
          >
            Price Â£
          </th>
          <td mat-cell *matCellDef="let product">{{ product.price }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <div
      *ngIf="!(dataSource.loading$ | async) && (dataSource.isEmpty$ | async)"
      class="empty empty-normal"
    >
      <img [src]="imgNoData" />
      <span> {{ 'noRecordsFound' }}. </span>
    </div>
    <mat-paginator
      [length]="dataSource.data?.length"
      [pageSize]="5"
      [pageSizeOptions]="[5, 10, 20, 50]"
      showFirstLastButtons
    ></mat-paginator> </mat-card-content
></mat-card>
