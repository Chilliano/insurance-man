<div class="container--outer">
  <div class="container--filters">
    <div class="title">Filter Results By...</div>
    <div class="fields">
      <mat-form-field appearance="outline" class="filter" floatLabel="never">
        <mat-label>Name</mat-label>
        <input matInput [formControl]="nameFilter" />
      </mat-form-field>
      <mat-form-field appearance="outline" class="filter" floatLabel="never">
        <mat-label>Brand</mat-label>
        <input matInput [formControl]="brandFilter" />
      </mat-form-field>
      <mat-form-field appearance="outline" class="filter" floatLabel="never">
        <mat-label>Kind</mat-label>
        <input matInput [formControl]="kindFilter" />
      </mat-form-field>
      <mat-form-field appearance="outline" class="filter" floatLabel="never">
        <mat-label>Price</mat-label>
        <input matInput [formControl]="priceFilter" />
      </mat-form-field>
    </div>
    <button class="btn btn-dark" (click)="onSearch()">Search</button>
  </div>

  <div class="container--table">
    <div class="container--table__title"><h1>Insurance Table</h1></div>
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="select">
        <th class="header header--select" mat-header-cell *matHeaderCellDef>
          <mat-checkbox
            (change)="$event ? masterToggle() : null"
            [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()"
          >
          </mat-checkbox>
        </th>
        <td mat-header-cell mat-cell *matCellDef="let row">
          <mat-checkbox
            [ngClass]="{ listed: favourites.indexOf(row) > -1 }"
            (click)="$event.stopPropagation()"
            (change)="$event ? selection.toggle(row) : null"
            [checked]="selection.isSelected(row)"
          >
          </mat-checkbox>
        </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th
          class="header header--name"
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
        >
          Name
        </th>
        <td mat-cell *matCellDef="let product">{{ product.name }}</td>
      </ng-container>
      <ng-container matColumnDef="brand">
        <th
          class="header header--company"
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
        >
          Company
        </th>
        <td mat-cell *matCellDef="let product">{{ product.brand }}</td>
      </ng-container>
      <ng-container matColumnDef="kind">
        <th
          class="header header--kind"
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
        >
          Kind
        </th>
        <td mat-cell *matCellDef="let product">{{ product.kind }}</td>
      </ng-container>
      <ng-container matColumnDef="price">
        <th
          class="header header--price"
          mat-header-cell
          *matHeaderCellDef
          mat-sort-header
        >
          Price Â£
        </th>
        <td mat-cell *matCellDef="let product">{{ product.price }}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="columnHeaders"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: columnHeaders"
        (click)="onRowClicked(row)"
      ></tr>
    </table>
  </div>

  <div class="container--table-options">
    <div class="container--selectors">
      <button class="btn btn-dark" (click)="onDisplayList()">
        Display List
      </button>

      <button class="btn btn-dark" (click)="onSaveSelected()">
        Add Selected to List
      </button>

      <button class="btn btn-dark" (click)="onRemoveSelected()">
        Remove Selected From List
      </button>
    </div>
    <div class="container--paginator">
      <mat-paginator
        [pageSizeOptions]="[5, 10, 15]"
        showFirstLastButtons
      ></mat-paginator>
    </div>
  </div>
</div>

<div
  class="container--current-list"
  (click)="toggleMiniList()"
  [ngClass]="{ open: displayMiniList }"
>
  <app-mini-list></app-mini-list>
</div>
